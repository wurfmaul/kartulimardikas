/*
 @license
 This file was created 2014-2015 by https://github.com/wurfmaul
 and licensed under the GNU GENERAL PUBLIC LICENSE Version 3
 https://gnu.org/licenses/gpl-3.0.txt
 */
(function(){$(function(){return $(".close").click(function(){return $(this).parent(".alert").hide("slow")})})}).call(this),function(){var r,n,e,s,t;r=function(r,n){return $.ajax("api/user.php",{type:"POST",data:r,dataType:"json",success:function(r,e,s){var t,o,a,u,i,c;for(a=null!=(u=r.error)?u:"",i=["username","email","password1","password2","password"],t=0,o=i.length;o>t;t++)c=i[t],null!=r["error-"+c]?(a+=r["error-"+c],$("#"+c+"-group").addClass("has-error")):$("#"+c+"-group").removeClass("has-error");return""!==a?($("#alertText").html(a),$("#alert").show("slow"),$("#success").hide("slow")):($("#successText").html(r.success),$("#success").show("slow"),$("#alert").hide("slow"),n(r.success))},error:function(r,n,e){return $("#alertText").html("AJAX Error: "+n),$("#alert").show("slow")}})},t=function(){var n;return n=$("#in-username").val(),r({username:n,lang:window.current.lang},function(r){return $("#usernameMsg").val(r),$("#usernameForm").submit()}),n},s=function(){var n;return n=$("#delete-password").val(),confirm($("#deleteBtn").data("warning"))?r({password:n},function(r){return $("#deleteMsg").val(r),$("#deleteForm").submit()}):void 0},n=function(){var n;return n=$("#in-email").val(),r({email:n,lang:window.current.lang},function(){}),n},e=function(){var n,e;return n=$("#in-password1").val(),e=$("#in-password2").val(),r({password1:n,password2:e,lang:window.current.lang},function(r){return $("#passwordMsg").val(r),$("#passwordForm").submit()})},$(function(){return $("#usernameBtn").click(function(){return t()}),$("#emailBtn").click(function(){return n()}),$("#passwordBtn").click(function(){return e()}),$("#deleteBtn").click(function(){return s()}),$("#in-username").keypress(function(r){return 13===r.which?t():void 0}),$("#in-email").keypress(function(r){return 13===r.which?n():void 0}),$("#in-password1, #in-password2").keypress(function(r){return 13===r.which?e():void 0}),$("#delete-password").keypress(function(r){return 13===r.which?s():void 0})})}.call(this);